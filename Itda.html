<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Non‑Disclosure Agreement Form</title>
  <link rel="icon" href="https://dentalpracticetransitions.henryschein.com/favicon.ico" type="image/x-icon"/>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(to right, #e0f7fa, #ffffff);
      color: #333;
    }
    header {
      background-color: #0072ce;
      color: white;
      padding: 15px 20px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.2);
      position: sticky;
      top: 0;
      z-index: 1000;
    }
    .nav {
      max-width: 1200px;
      margin: auto;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .logo { font-size: 1.5rem; font-weight: bold; }
    .menu {
      list-style: none;
      display: flex;
      gap: 20px;
    }
    .menu a {
      color: white;
      text-decoration: none;
      font-weight: 500;
      transition: background 0.3s, color 0.3s;
    }
    .menu a:hover {
      background-color: #005fa3;
      padding: 6px 10px;
      border-radius: 5px;
    }
    main {
      max-width: 800px;
      margin: 40px auto;
      background: white;
      padding: 30px;
      border-radius: 10px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    }
    h1 {
      color: #0072ce;
      margin-bottom: 10px;
    }
    .nda-text {
      max-height: 300px;
      overflow-y: auto;
      background: #f9f9f9;
      border-left: 4px solid #0072ce;
      padding: 15px;
      margin: 20px 0;
      font-size: 0.95em;
      line-height: 1.6;
    }
    .form-group {
      margin-bottom: 15px;
    }
    label {
      display: block;
      margin-bottom: 6px;
      font-weight: 600;
    }
    input[type="text"], input[type="email"], input[type="tel"], select {
      width: 100%;
      padding: 10px;
      border-radius: 6px;
      border: 1px solid #ccc;
    }
    .checkbox {
      display: flex;
      align-items: center;
    }
    .checkbox input {
      margin-right: 10px;
    }
    button {
      background-color: #0072ce;
      color: white;
      padding: 12px 20px;
      font-size: 1rem;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      transition: background 0.3s;
    }
    button:hover {
      background-color: #005fa3;
    }
    .confirmation {
      text-align: center;
      padding: 20px;
      background-color: #e8f5e9;
      border: 1px solid #a5d6a7;
      color: #2e7d32;
      border-radius: 10px;
      margin-top: 20px;
    }
    @media (max-width: 768px) {
      .menu {
        flex-direction: column;
        display: none;
        background: #0072ce;
        padding: 10px;
      }
      .menu.open { display: flex; }
      .hamburger {
        display: block;
        cursor: pointer;
      }
      .hamburger div {
        width: 25px;
        height: 3px;
        background: white;
        margin: 4px;
      }
    }
    .hamburger { display: none; }
    #signaturePad {
      border: 1px solid #ced4da;
      width: 100%;
      height: 150px;
      border-radius: 0.5rem;
      background: white;
    }
  </style>
</head>
<body>

<header>
  <div class="nav">
    <div class="logo">Today's Dental Alexandria</div>
    <nav>
      <ul class="menu" id="nav-menu">
        <li><a href="#">Home</a></li>
        <li><a href="#">Selling</a></li>
        <li><a href="#">Practice Listings</a></li>
        <li><a href="#">Purchaser Resources</a></li>
        <li><a href="#">Why Us</a></li>
        <li><a href="#">Contact Us</a></li>
        <li><a href="#">Sign In</a></li>
      </ul>
    </nav>
    <div class="hamburger" onclick="toggleMenu()">
      <div></div><div></div><div></div>
    </div>
  </div>
</header>

<main>
  <h1>Non‑Disclosure Agreement Form</h1>
  <p>Please read the following Confidentiality Agreement. By completing the form below and clicking "Agree and Submit", you agree to the terms and conditions of the Confidentiality Agreement.</p>

  <div class="nda-text">
    This CONFIDENTIALITY AGREEMENT ("Agreement") is entered into as of the date of submission set forth below ("Submission Date"), by and between the undersigned (the "Receiving Party") and the Today's Dental Alexandria entity set forth immediately below ("TDA")...
  </div>

  <form id="ndaForm">
    <div class="form-group">
      <label for="firstName">First Name:</label>
      <input type="text" id="firstName" name="first-name" autocomplete="given-name">
    </div>
    <div class="form-group">
      <label for="lastName">Last Name:</label>
      <input type="text" id="lastName" name="last-name" autocomplete="family-name">
    </div>
    <div class="form-group">
      <label for="email">Email *</label>
      <input type="email" id="email" required>
    </div>
    <div class="form-group">
      <label for="phone">Phone *</label>
      <input type="tel" id="phone" required>
    </div>
    <div class="form-group">
      <label for="zip">ZIP Code *</label>
      <input type="text" id="zip" pattern="[0-9]{5,6}" required>
    </div>
    <div class="form-group">
      <label for="city">City *</label>
      <input type="text" id="city" required>
    </div>
    <div class="form-group">
      <label for="state">State *</label>
      <select id="state" required>
        <option value="">-- Select Your State --</option>
        <option value="Andhra Pradesh">Andhra Pradesh</option>
        <option value="Maharashtra">Maharashtra</option>
        <option value="Karnataka">Karnataka</option>
        <option value="Delhi">Delhi</option>
        <option value="Tamil Nadu">Tamil Nadu</option>
      </select>
    </div>
    <div class="form-group">
      <label for="signaturePad">Digital Signature *</label>
      <canvas id="signaturePad"></canvas>
    </div>
    <div class="form-group checkbox">
      <input type="checkbox" id="agree" required>
      <label for="agree">I agree to the above Confidentiality Agreement *</label>
    </div>
    <button type="submit">Agree & Submit</button>
  </form>

  <div class="confirmation" id="confirmation" style="display:none;">
    <h2>Thank you!</h2>
    <p>Your NDA has been submitted successfully.</p>
  </div>
</main>

<script>
function toggleMenu() {
  document.getElementById('nav-menu').classList.toggle('open');
}

// Signature pad
let isDrawing = false;
const canvas = document.getElementById('signaturePad');
const ctx = canvas.getContext('2d');

canvas.addEventListener('mousedown', () => isDrawing = true);
canvas.addEventListener('mouseup', () => {
  isDrawing = false;
  ctx.beginPath();
});
canvas.addEventListener('mousemove', draw);

function draw(e) {
  if (!isDrawing) return;
  ctx.lineWidth = 2;
  ctx.lineCap = 'round';
  ctx.strokeStyle = '#000';
  ctx.lineTo(e.offsetX, e.offsetY);
  ctx.stroke();
  ctx.beginPath();
  ctx.moveTo(e.offsetX, e.offsetY);
}

// Form submission
document.getElementById('ndaForm').addEventListener('submit', async function(e) {
  e.preventDefault();

  const canvas = document.getElementById('signaturePad');
  const signature = canvas.toDataURL();

  const formData = {
    firstName: document.getElementById('firstName').value.trim(),
    lastName: document.getElementById('lastName').value.trim(),
    email: document.getElementById('email').value.trim(),
    phone: document.getElementById('phone').value.trim(),
    zip: document.getElementById('zip').value.trim(),
    city: document.getElementById('city').value.trim(),
    state: document.getElementById('state').value,
    agree: document.getElementById('agree').checked,
    signature,
    timestamp: new Date().toISOString()
  };

  if (!formData.firstName || !formData.lastName || !formData.email || 
      !formData.phone || !formData.zip || !formData.city || !formData.state || !formData.agree) {
    alert("Please complete all required fields.");
    return;
  }

  try {
    await fetch('https://script.google.com/macros/s/AKfycbyzwRFIJ2xZey31PUT-bo1KzlW_5wCaShUDP9TdZYQdD1KKJQ9McCKggS_T_iCpAXRE/exec', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(formData),
      mode: 'no-cors'
    });

    document.getElementById('ndaForm').style.display = 'none';
    document.getElementById('confirmation').style.display = 'block';
  } catch (error) {
    console.error('Error:', error);
    alert("There was an error submitting your form. Please try again.");
  }
});
</script>

</body>
</html>
